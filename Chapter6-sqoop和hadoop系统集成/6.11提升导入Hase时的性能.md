<h2>6.11提升导入Hase时的性能</h2>

<h3>问题</h3>
导入到HBase的时间要比在HDFS中作为文本文件导入要多得很多。

<h3>解决方案</h3>
在运行Sqoop导入之前创建HBase表,并指示HBase使用参数NUMREGIONS创建更多区域。例如, 可以创建HBase使用以下命令表中的列族世界和20区域的城市:

```
hbase> create 'cities', 'world', {NUMREGIONS => 20, SPLITALGO => 'HexStringSplit'}
```

<h3>讨论</h3>

默认情况下,每个新的HBase表只有一个区域, 只能由一个区域服务器服务。这意味着每个新表只能由一个物理节点提供。
Sqoop将数据并行导入到HBase中, 但在将数据插入单个区域时,并行任务将成为瓶颈,最终HBase由于填充会被分割成多个，这样也就运行对两台服务进行写操作，
但是这并不会显著的提高性能。随着时间的推移, 会出现足够的区域拆分, 以帮助在整个HBase群集上扩展负载,然而这时为时已晚。此时Sqoop导入,然后已经采取了显著的性能命中。我们的建议是, 在运行Sqoop导入之前, 创建具有足够数量区域的HBase表, 以将负载分布在整个HBase群集。